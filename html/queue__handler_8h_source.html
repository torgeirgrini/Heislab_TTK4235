<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elevator Project: source/queue_handler.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elevator Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">queue_handler.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="queue__handler_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef QUEUE_HANDLER_H</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define QUEUE_HANDLER_H</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="elevator_8h.html">elevator.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keywordtype">void</span> <a class="code" href="queue__handler_8h.html#a27e5de46fbd8cac82f06fc5e6b64f37e">queue_clear</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev);</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keywordtype">int</span> <a class="code" href="queue__handler_8h.html#a6a8f2e61bafeaadb36377a3664a681e3">queue_get_order</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev, <a class="code" href="hardware_8h.html#a796a8de8ce0ae769d7dbd3327a7bdbe7">HardwareOrder</a> order_type, <span class="keywordtype">int</span> floor);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keywordtype">void</span> <a class="code" href="queue__handler_8h.html#a3ce896fe20074af270bcbb349562dfd9">queue_set_orders</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keywordtype">void</span> <a class="code" href="queue__handler_8h.html#a7b8d1f4f4b11dc91a3ed06449feea23d">queue_delete_order</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev, <a class="code" href="hardware_8h.html#a796a8de8ce0ae769d7dbd3327a7bdbe7">HardwareOrder</a> order_type, <span class="keywordtype">int</span> floor);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keywordtype">void</span> <a class="code" href="queue__handler_8h.html#ab821d561a8fa9edef04f14810d074193">queue_delete_orders_at_floor</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev, <span class="keywordtype">int</span> floor);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keywordtype">int</span> <a class="code" href="queue__handler_8h.html#ac73d563781c8a925a2f48a0a0274013e">queue_active_orders_floor</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev, <span class="keywordtype">int</span> floor);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keywordtype">int</span> <a class="code" href="queue__handler_8h.html#a12d9773f1198f963edbd5cf50f177928">queue_active_orders_all_floors</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<a class="code" href="hardware_8h.html#a2167c399a24df296afc432bcb88228af">HardwareMovement</a> <a class="code" href="queue__handler_8h.html#af977d3c209c783b26fe5fd385a7799f3">queue_get_movement_any_direction</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="hardware_8h.html#a2167c399a24df296afc432bcb88228af">HardwareMovement</a> <a class="code" href="queue__handler_8h.html#a1d3b744bfae0c4746353697247c3aad5">queue_get_movement_pri_direction</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<a class="code" href="hardware_8h.html#a796a8de8ce0ae769d7dbd3327a7bdbe7">HardwareOrder</a> <a class="code" href="queue__handler_8h.html#a5690c565e767b1bcdebb9c9a77d519e8">queue_get_direction_of_order</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keywordtype">int</span> <a class="code" href="queue__handler_8h.html#a4d6b82c134f2aab959f52c4833b81d7d">queue_active_orders_in_direction</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev, <a class="code" href="hardware_8h.html#a2167c399a24df296afc432bcb88228af">HardwareMovement</a> direction_type);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keywordtype">int</span> <a class="code" href="queue__handler_8h.html#a2a38a3e344c7c67f695b302b4de47697">queue_check_orders_current_floor</a>(<a class="code" href="structElevator.html">Elevator</a>* p_elev);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">void</span> <a class="code" href="queue__handler_8h.html#a3887fdca838deed230cfdfae04d55153">queue_adjust_floor</a>(<a class="code" href="structElevator.html">Elevator</a> *p_elev);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="queue__handler_8h_html_ab821d561a8fa9edef04f14810d074193"><div class="ttname"><a href="queue__handler_8h.html#ab821d561a8fa9edef04f14810d074193">queue_delete_orders_at_floor</a></div><div class="ttdeci">void queue_delete_orders_at_floor(Elevator *p_elev, int floor)</div><div class="ttdoc">Sets all values at floor in the queue_matrix in p_elev to zero. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00029">queue_handler.c:29</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a7b8d1f4f4b11dc91a3ed06449feea23d"><div class="ttname"><a href="queue__handler_8h.html#a7b8d1f4f4b11dc91a3ed06449feea23d">queue_delete_order</a></div><div class="ttdeci">void queue_delete_order(Elevator *p_elev, HardwareOrder order_type, int floor)</div><div class="ttdoc">Sets the value in the queue_matrix in p_elev given by order_type and floor to zero. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00025">queue_handler.c:25</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a3ce896fe20074af270bcbb349562dfd9"><div class="ttname"><a href="queue__handler_8h.html#a3ce896fe20074af270bcbb349562dfd9">queue_set_orders</a></div><div class="ttdeci">void queue_set_orders(Elevator *p_elev)</div><div class="ttdoc">Updates queue_matrix in an Elevator struct with new orders. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00015">queue_handler.c:15</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a2a38a3e344c7c67f695b302b4de47697"><div class="ttname"><a href="queue__handler_8h.html#a2a38a3e344c7c67f695b302b4de47697">queue_check_orders_current_floor</a></div><div class="ttdeci">int queue_check_orders_current_floor(Elevator *p_elev)</div><div class="ttdoc">Checks if there are any orders at the current floor of p_elev which are to be handled next...</div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00124">queue_handler.c:124</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a3887fdca838deed230cfdfae04d55153"><div class="ttname"><a href="queue__handler_8h.html#a3887fdca838deed230cfdfae04d55153">queue_adjust_floor</a></div><div class="ttdeci">void queue_adjust_floor(Elevator *p_elev)</div><div class="ttdoc">Workaround for issue with movement after the stop button is released when in shaft. If there are no orders in the last direction and last direction is downwards, the current floor is decremented. If there are no orders in the last direction and last direction is upwards, the current floor is incremented. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00131">queue_handler.c:131</a></div></div>
<div class="ttc" id="queue__handler_8h_html_ac73d563781c8a925a2f48a0a0274013e"><div class="ttname"><a href="queue__handler_8h.html#ac73d563781c8a925a2f48a0a0274013e">queue_active_orders_floor</a></div><div class="ttdeci">int queue_active_orders_floor(Elevator *p_elev, int floor)</div><div class="ttdoc">Checks floor for any unhandled orders. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00035">queue_handler.c:35</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a4d6b82c134f2aab959f52c4833b81d7d"><div class="ttname"><a href="queue__handler_8h.html#a4d6b82c134f2aab959f52c4833b81d7d">queue_active_orders_in_direction</a></div><div class="ttdeci">int queue_active_orders_in_direction(Elevator *p_elev, HardwareMovement direction_type)</div><div class="ttdoc">Searches for any unhandled orders at the floors in the direction which direction_type specifies...</div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00102">queue_handler.c:102</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a1d3b744bfae0c4746353697247c3aad5"><div class="ttname"><a href="queue__handler_8h.html#a1d3b744bfae0c4746353697247c3aad5">queue_get_movement_pri_direction</a></div><div class="ttdeci">HardwareMovement queue_get_movement_pri_direction(Elevator *p_elev)</div><div class="ttdoc">Checks for the direction for the elevator to move, with order priorities. If no priorities are found ...</div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00063">queue_handler.c:63</a></div></div>
<div class="ttc" id="hardware_8h_html_a796a8de8ce0ae769d7dbd3327a7bdbe7"><div class="ttname"><a href="hardware_8h.html#a796a8de8ce0ae769d7dbd3327a7bdbe7">HardwareOrder</a></div><div class="ttdeci">HardwareOrder</div><div class="ttdoc">Order type used in hardware_read_order and in hardware_command_order_light. </div><div class="ttdef"><b>Definition:</b> <a href="hardware_8h_source.html#l00023">hardware.h:23</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a5690c565e767b1bcdebb9c9a77d519e8"><div class="ttname"><a href="queue__handler_8h.html#a5690c565e767b1bcdebb9c9a77d519e8">queue_get_direction_of_order</a></div><div class="ttdeci">HardwareOrder queue_get_direction_of_order(Elevator *p_elev)</div><div class="ttdoc">Checks the order type of the order just handled. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00092">queue_handler.c:92</a></div></div>
<div class="ttc" id="structElevator_html"><div class="ttname"><a href="structElevator.html">Elevator</a></div><div class="ttdoc">An Elevator struct which holds a queue system, memory variables and control variables. </div><div class="ttdef"><b>Definition:</b> <a href="elevator_8h_source.html#l00029">elevator.h:29</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a6a8f2e61bafeaadb36377a3664a681e3"><div class="ttname"><a href="queue__handler_8h.html#a6a8f2e61bafeaadb36377a3664a681e3">queue_get_order</a></div><div class="ttdeci">int queue_get_order(Elevator *p_elev, HardwareOrder order_type, int floor)</div><div class="ttdoc">Checks a specified value in queue_matrix in an Elevator struct. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00011">queue_handler.c:11</a></div></div>
<div class="ttc" id="elevator_8h_html"><div class="ttname"><a href="elevator_8h.html">elevator.h</a></div><div class="ttdoc">Library for an Elevator struct, and for operations on an Elevator struct. </div></div>
<div class="ttc" id="queue__handler_8h_html_a12d9773f1198f963edbd5cf50f177928"><div class="ttname"><a href="queue__handler_8h.html#a12d9773f1198f963edbd5cf50f177928">queue_active_orders_all_floors</a></div><div class="ttdeci">int queue_active_orders_all_floors(Elevator *p_elev)</div><div class="ttdoc">Checks if there are any unhandled orders in p_elev. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00042">queue_handler.c:42</a></div></div>
<div class="ttc" id="hardware_8h_html_a2167c399a24df296afc432bcb88228af"><div class="ttname"><a href="hardware_8h.html#a2167c399a24df296afc432bcb88228af">HardwareMovement</a></div><div class="ttdeci">HardwareMovement</div><div class="ttdoc">Movement type used in hardware_command_movement. </div><div class="ttdef"><b>Definition:</b> <a href="hardware_8h_source.html#l00013">hardware.h:13</a></div></div>
<div class="ttc" id="queue__handler_8h_html_af977d3c209c783b26fe5fd385a7799f3"><div class="ttname"><a href="queue__handler_8h.html#af977d3c209c783b26fe5fd385a7799f3">queue_get_movement_any_direction</a></div><div class="ttdeci">HardwareMovement queue_get_movement_any_direction(Elevator *p_elev)</div><div class="ttdoc">Checks for the direction for the elevator to move, independent of order priorities. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00049">queue_handler.c:49</a></div></div>
<div class="ttc" id="queue__handler_8h_html_a27e5de46fbd8cac82f06fc5e6b64f37e"><div class="ttname"><a href="queue__handler_8h.html#a27e5de46fbd8cac82f06fc5e6b64f37e">queue_clear</a></div><div class="ttdeci">void queue_clear(Elevator *p_elev)</div><div class="ttdoc">Sets all elements of queue_matrix in an Elevator struct to zero. </div><div class="ttdef"><b>Definition:</b> <a href="queue__handler_8c_source.html#l00003">queue_handler.c:3</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
